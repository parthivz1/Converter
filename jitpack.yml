# jitpack.yml (recommended)
jdk:
  - openjdk17

before_install:
  # show Gradle version & Java â€” useful for debugging build failures in JitPack logs
  - java -version
  - ./gradlew --version

install:
  # Use Gradle wrapper to download dependencies only (parallel to speed up)
  - ./gradlew --no-daemon --no-parallel --refresh-dependencies assembleRelease -x test

cache:
  directories:
    - $HOME/.gradle/caches
    - $HOME/.gradle/wrapper

build:
  # optionally build each module explicitly (helps with multi-module builds)
  - ./gradlew :core:assembleRelease :convert-image:assembleRelease :convert-zip:assembleRelease :convert-pdf:assembleRelease -x test --no-daemon

after_success:
  - echo "Build finished successfully"
